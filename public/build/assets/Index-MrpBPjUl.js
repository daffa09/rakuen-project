import{r,G as d,j as e,S as v,x}from"./app-B1b2Ztae.js";import{A as C}from"./AuthenticatedLayout-D2OjMHUf.js";import{P}from"./Paginator-DTNKHlyW.js";import{C as S}from"./ConfirmationDialog-BahpKI1v.js";import"./transition-BlLNfaN5.js";function O(a){const{auth:h,flash:i={}}=a,m=a.data.data,u=a.data,[p,t]=r.useState(!1),[l,n]=r.useState(null),[o,j]=r.useState(null),{delete:f}=d(),{patch:b}=d(),N=s=>{n(s),t(!0)},g=(s,c)=>{n(s),j(c),t(!0)},y=()=>{l&&f(`/articles/delete/${l}`),t(!1)},w=()=>{l&&b(`/articles/unpublish/${l}`),t(!1)};return e.jsxs(C,{user:h.user,children:[e.jsx(v,{title:"Projects"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"mx-auto",style:{width:"80%"},children:[e.jsx("h1",{className:"text-5xl font-semibold pb-10 text-center",children:"Articles List"}),i.success&&e.jsx("div",{className:"mb-5 p-4 text-white bg-green-500 rounded-md",children:i.success}),e.jsxs("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg mb-5",children:[e.jsx("div",{className:"flex justify-end mb-5",children:e.jsx("a",{href:route("articles.create"),className:"bg-blue-500 text-white rounded-md p-2 font-semibold w-28 text-center cursor-pointer",children:"Create"})}),e.jsxs("table",{className:"w-full text-sm rtl:text-right text-gray-400",children:[e.jsx("thead",{className:"text-xs uppercase bg-gray-700 text-gray-400",children:e.jsxs("tr",{className:"text-center",children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:"No"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Banner"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Title"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Category"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:e.jsx("span",{children:"Action"})})]})}),e.jsx("tbody",{children:m.map((s,c)=>e.jsxs("tr",{className:" border bg-gray-900 border-gray-500 hover:bg-gray-600 text-justify",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 font-medium whitespace-nowrap text-white",children:c+1}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("img",{src:s.banner,alt:s.title,className:"w-2/3 mx-auto rounded-lg"})}),e.jsx("td",{className:"px-6 py-4 text-xl font-semibold w-1/3 text-center",children:s.title}),e.jsx("td",{className:"px-6 py-4 text-lg font-thin",children:s.category_name}),e.jsx("td",{className:"px-6 py-4 font-semibold",children:e.jsx("span",{className:s.publish?"text-green-400":"text-red-600",children:s.publish?"Published":"Draft"})}),e.jsxs("td",{className:"px-6 py-4 text-right",style:{width:"200px"},children:[e.jsx(x,{href:`/articles/show/${s.id}`,method:"get",className:"font-medium text-2xl ml-3 text-green-500 hover:text-white",children:e.jsx("i",{className:"ri-eye-line"})}),s.publish!==1&&e.jsxs(e.Fragment,{children:[e.jsx(x,{href:`/articles/edit/${s.id}`,method:"get",className:"font-medium text-2xl ml-3 text-blue-500 hover:text-white",children:e.jsx("i",{className:"ri-pencil-line"})}),e.jsx("button",{className:"font-medium text-2xl ml-3 text-red-500 hover:text-white",onClick:()=>N(s.id),children:e.jsx("i",{className:"ri-delete-bin-line"})})]}),s.publish===1&&e.jsx("button",{className:"font-medium text-2xl ml-3 text-red-500 hover:text-white",onClick:()=>g(s.id,s.publish),children:e.jsx("i",{className:"ri-arrow-go-back-fill"})})]})]},s.id))})]})]}),e.jsx(P,{meta:u})]})}),e.jsx(S,{isOpen:p,onClose:()=>t(!1),onConfirm:o===1?w:y,message:o===1?"Are you sure you want to un publish this article?":"Are you sure you want to delete this article?"})]})}export{O as default};
