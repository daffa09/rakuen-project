import{G as N,r as c,j as e,S as y}from"./app-B1b2Ztae.js";import{A as v}from"./AuthenticatedLayout-D2OjMHUf.js";import{C as w}from"./ConfirmationDialog-BahpKI1v.js";import{f as S}from"./Utils-CtQk8zFY.js";import"./transition-BlLNfaN5.js";function k({data:s,auth:x}){const i=[],{patch:o}=N(),[h,r]=c.useState(!1),[a,u]=c.useState(null),[p,g]=c.useState(null),j=(t,l)=>{u(t),g(l),r(!0)};for(let t=0;t<s.gallery.length;t+=3)i.push(s.gallery.slice(t,t+3));const f=()=>{o(a&&!p?`/projects/publish/${a}`:`/projects/unpublish/${a}`),r(!1)};return e.jsxs(v,{user:x.user,children:[e.jsx(y,{title:"Show"}),e.jsxs("div",{className:"py-12",children:[e.jsxs("div",{className:"flex justify-between md:px-40",children:[e.jsx("div",{className:"text-left mx-auto",children:e.jsx("h1",{className:"text-2xl font-bold md:text-6xl",children:s.title})}),e.jsxs("div",{className:"text-xs md:text-base",children:[e.jsx("button",{onClick:()=>{history.back()},className:"bg-red-500 text-white px-4 py-2 rounded-md mr-5",children:"Back to List"}),e.jsx("button",{onClick:()=>j(s.id,s.publish),className:"bg-green-500 text-white px-4 py-2 rounded-md",children:s.publish?"Unpublish":"Publish"})]})]}),e.jsx("div",{className:"flex justify-center pt-10",children:e.jsx("img",{src:s.banner,alt:s.title,className:"w-2/3 md:w-2/5 h-auto rounded-md mx-auto"})}),e.jsxs("div",{className:"flex justify-between pb-4 pt-1 w-2/3 md:w-2/5 mx-auto",children:[e.jsx("div",{children:s.lang_urls.map((t,l)=>e.jsx("i",{className:`text-xs md:text-2xl mr-1 ${t}`},l))}),e.jsx("h1",{className:"text-xs font-bold md:text-xl",children:"( "+S(s.created_at)+" )"})]}),e.jsx("div",{className:"text-justify content mx-4 md:mx-72",dangerouslySetInnerHTML:{__html:s.content}}),i.length>1&&e.jsx("div",{className:"text-center py-6",children:e.jsx("h1",{className:"text-3xl",children:"Gallery"})}),i.length>1&&e.jsx("div",{className:`m-auto w-2/3 grid grid-cols-2 gap-2 md:gap-0 ${i.length===1?"md:grid-cols-1":i.length===2?"md:grid-cols-2":i.length===3?"md:grid-cols-3":"md:grid-cols-4"}`,children:(()=>{const t=[];for(let l=0;l<i.length;l++){const m=i[l],b=e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"grid gap-4",children:(()=>{const d=[];for(let n=0;n<m.length;n++)d.push(e.jsx("div",{children:e.jsx("img",{className:"h-auto md:max-w-52 rounded-lg",src:m[n],alt:`${l}-${n}`})},n));return d})()},l)});t.push(b)}return t})()})]}),e.jsx(w,{isOpen:h,onClose:()=>r(!1),onConfirm:f,message:"Are you sure you want to publish this project?"})]})}export{k as default};
